<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Account key creation ideas for Polkadot - W3F Research</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="../..">W3F Research</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#account-key-creation-ideas-for-polkadot">Account key creation ideas for Polkadot</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="account-key-creation-ideas-for-polkadot">Account key creation ideas for Polkadot</h1>
<p>We found a trick for using Ed25519 "mini" private keys in <a href="https://github.com/w3f/schnorr-dalek/blob/master/src/keys.rs">schnorr-dalek</a>, meaning users' "mini" private key consists of 32 bytes of unstructured entropy.  </p>
<p>There are no serious problems with <a href="https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki">BIP39</a> so we suggest a similar strategy for deriving secret keys in Polkadot.  We could however modernize BIP39 in a couple small but straightforward ways: </p>
<ul>
<li><em>Argon2id should replace PBKDF2.</em>  Adam Langely sugests <a href="https://github.com/golang/crypto/commit/d9133f5469342136e669e85192a26056b587f503">using time=2 and 64mb of memopry</a> for interactive scenarios like this.  In principle, one might question if this scenario should truly be considered interactive, but conversely one could imagine running this on relatively constrained devices. We might also improve the <a href="https://github.com/bryant/argon2rs/issues">argone2rs</a> crate too, especially to <a href="https://crypto.stackexchange.com/a/40000">ensure we use at least v1.3 since v1.2.1 got weaker</a>.</li>
<li><em>Rejection sampling to support larger wordlists.</em>  We could employ rejection sampling from the initial entropy stream to avoid tying ourselves to the list size being a power of two, as BIP39 seemingly requires.  We can provide roughly the existing error correction from BIP32, even working in a ring of this order.</li>
<li><em>Actually provide a larger wordlist.</em>  We're discussing enough entropy that users might benefit form using diceware-like word lists with 12.9 bits of entropy per word, as opposed to BIP32's 11 bits of entropy per word.  It's possible some diceware word lists contained confusable words, but reviews exists at least for English.  We might worry that larger wordlists might simply not exist for some languges.  It's also easier to quickly curate shorter lists.</li>
</ul>
<p>There are also more speculative directions for possible improvements: </p>
<ul>
<li><em>Improve error correction.</em>  Right now BIP39 has only a basic checksum for error correction.  We could design schemes that corrected errors by choosing the words using Reed-Solomon, meaning non-systematic word list creation with code words, except naively this limits our word list sizes to finite field sizes, meaning prime powers.  We would instead likely run Reed-Solomon separately on each prime power divisor of the word list's order.  We should however evaluate alternatives like other <a href="https://hal.inria.fr/hal-00670004/file/article.pdf">generalisations of Reed-Solomon codes to rings</a>, or even working in a field of slightly larger order and reject choices that fall outside the wordlist.</li>
<li><em>Support multiple Argon2id configurations.</em>  We might conceivably support multiple argon2id configurations, if small device constraints become a serious concern.  We could select among a few argon2id configuration options using yet another output from the Reed-Solomon code.  We'd simply use rejection sampling to choose the user's desired configuration.</li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../mathjax-config.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
