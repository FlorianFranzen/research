
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Account signatures and keys in Polkadot &#8212; Research at W3F</title>
    <link rel="stylesheet" href="../../_static/material.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/stylesheets/extra.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"extensions": ["tex2jax.js"], "jax": ["input/TeX", "output/HTML-CSS"], "tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "displayMath": [["$$", "$$"], ["\\[", "\\]"]], "processEscapes": true}, "HTML-CSS": {"fonts": ["TeX"]}})</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Nomination" href="2-staking.html" />
    <link rel="prev" title="Account signatures and keys" href="1-accounts.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=deep-orange data-md-color-accent=deep-orange>
  <svg class="md-svg">
    <defs data-children-count="0">
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448"
           id="__github">
        <path fill="currentColor"
              d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"></path>
      </svg>
    </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#polkadot/keys/1-accounts-more" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="Research at W3F"
           class="md-header-nav__button md-logo">
          
              <img src="../../_static/w3f_logo.svg" height="26"
                   alt="Research at W3F logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Research at W3F</span>
          <span class="md-header-nav__topic"> Account signatures and keys in Polkadot </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../../search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">Research at W3F</a></li>
          <li class="md-tabs__item"><a href="../../polkadot.html" class="md-tabs__link">Polkadot</a></li>
          <li class="md-tabs__item"><a href="../keys.html" class="md-tabs__link">Keys</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../index.html" title="Research at W3F" class="md-nav__button md-logo">
      
        <img src="../../_static/w3f_logo.svg" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../../index.html"
       title="Research at W3F">Research at W3F</a>
  </label>
  

  
  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <a href="../../polkadot.html" class="md-nav__link">Polkadot</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="../index.html" class="md-nav__link">Polkadot</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../Availability_and_Validity.html" class="md-nav__link">Availability and Validity</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../GRANDPA.html" class="md-nav__link">GRANDPA</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../ICMP.html" class="md-nav__link">ICMP Scheme</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../Parachain-Allocation.html" class="md-nav__link">Parachain Allocation</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../Polkadot-Runtime-Environment.html" class="md-nav__link">Polkadot Runtime Environment Specification</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../Token Economics.html" class="md-nav__link">Token Economics</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../BABE.html" class="md-nav__link">BABE</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../NPoS.html" class="md-nav__link">NPoS</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../keys.html" class="md-nav__link">Keys</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="index.html" class="md-nav__link">Polkadot’s cryptography</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="1-accounts.html" class="md-nav__link">Account signatures and keys</a>
      
    </li>
    <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Account signatures and keys in Polkadot </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Account signatures and keys in Polkadot</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#polkadot-keys-1-accounts-more--page-root" class="md-nav__link">Account signatures and keys in Polkadot</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#schnorr-signatures" class="md-nav__link">Schnorr signatures</a>
        </li>
        <li class="md-nav__item"><a href="#curves" class="md-nav__link">Curves</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#how-much-secp256k1-support-" class="md-nav__link">How much secp256k1 support?</a>
        </li>
        <li class="md-nav__item"><a href="#is-secp256k1-risky-" class="md-nav__link">Is secp256k1 risky?</a>
        </li>
        <li class="md-nav__item"><a href="#is-ed25519-risky---aka-use-ristretto" class="md-nav__link">Is Ed25519 risky?  Aka use Ristretto</a>
        </li>
        <li class="md-nav__item"><a href="#zero-knowledge-proofs-in-the-dalek-ecosystem" class="md-nav__link">Zero-knowledge proofs in the dalek ecosystem</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/polkadot/keys/1-accounts-more.md.txt">Show Source</a> </li>

  </ul>
</nav><ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="#schnorr-signatures" class="md-nav__link">Schnorr signatures</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#curves" class="md-nav__link">Curves</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="#how-much-secp256k1-support-" class="md-nav__link">How much secp256k1 support?</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#is-secp256k1-risky-" class="md-nav__link">Is secp256k1 risky?</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#is-ed25519-risky---aka-use-ristretto" class="md-nav__link">Is Ed25519 risky?  Aka use Ristretto</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="#zero-knowledge-proofs-in-the-dalek-ecosystem" class="md-nav__link">Zero-knowledge proofs in the dalek ecosystem</a>
      
    </li></ul>
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="2-staking.html" class="md-nav__link">Nomination</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="3-session.html" class="md-nav__link">Session keys</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="4-secio.html" class="md-nav__link">Transport layer authentication - libp2p’s SECIO</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="creation.html" class="md-nav__link">Account key creation ideas for Polkadot</a>
      
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="../networking.html" class="md-nav__link">Networking</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../slashing.html" class="md-nav__link">Slashing</a>
      
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="../../research_team_members.html" class="md-nav__link">Research Team Members</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="../../news.html" class="md-nav__link">News</a>
      
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#polkadot-keys-1-accounts-more--page-root" class="md-nav__link">Account signatures and keys in Polkadot</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#schnorr-signatures" class="md-nav__link">Schnorr signatures</a>
        </li>
        <li class="md-nav__item"><a href="#curves" class="md-nav__link">Curves</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#how-much-secp256k1-support-" class="md-nav__link">How much secp256k1 support?</a>
        </li>
        <li class="md-nav__item"><a href="#is-secp256k1-risky-" class="md-nav__link">Is secp256k1 risky?</a>
        </li>
        <li class="md-nav__item"><a href="#is-ed25519-risky---aka-use-ristretto" class="md-nav__link">Is Ed25519 risky?  Aka use Ristretto</a>
        </li>
        <li class="md-nav__item"><a href="#zero-knowledge-proofs-in-the-dalek-ecosystem" class="md-nav__link">Zero-knowledge proofs in the dalek ecosystem</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../../_sources/polkadot/keys/1-accounts-more.md.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="polkadot-keys-1-accounts-more--page-root">Account signatures and keys in Polkadot<a class="headerlink" href="#polkadot-keys-1-accounts-more--page-root" title="Permalink to this headline">¶</a></h1>
<p>We believe Polkadot accounts should primarily use Schnorr signatures with both public keys and the <code class="docutils literal notranslate"><span class="pre">R</span></code> point in the signature encoded using the <a class="reference external" href="https://ristretto.group">Ristretto</a> point compression for the Ed25519 curve.  We should collaborate with the <a class="reference external" href="https://github.com/dalek-cryptography">dalek ecosystem</a> for which Ristretto was developed, but provide a simpler signature crate, for which <a class="reference external" href="https://github.com/w3f/schnorr-dalek">schnorr-dalek</a> provides a first step.</p>

<h2 id="schnorr-signatures">Schnorr signatures<a class="headerlink" href="#schnorr-signatures" title="Permalink to this headline">¶</a></h2>
<p>We prefer Schnorr signatures because they satisfy the <a class="reference external" href="https://github.com/sipa/bips/blob/bip-schnorr/bip-schnorr.mediawiki">Bitcoin Schnoor wishlist</a> and work fine with extremely secure curves, like the Ed25519 curve or secp256k1.  </p>
<p>We observe the Bitcoin Schnorr wishlist oversells the promise of schnorr multi-signatures because they actually require three round trips, which works for industrial usage, but complicates.  Another scheme call mBCJ from pages 21 and 22 of https://eprint.iacr.org/2018/417.pdf provides a two round trip multi-signature, but we require a delinearized variant of mBCJ for accounts https://github.com/w3f/schnorrkel/issues/15 and mBCJ is not actually a Schnorr signatures. </p>
<p>You could do fancier tricks, including like aggregation, with a pairing based curve like BLS12-381 and the BLS signature scheme.  These curves are slower for single verifications, and worse accounts should last decades while pairing friendly curves should be expected become less secure as number theory advances.  </p>
<p>There is one sacrifice we make by choosing Schnorr signatures over ECDSA signatures for account keys:  Both require 64 bytes, but only <a class="reference external" href="https://crypto.stackexchange.com/questions/18105/how-does-recovering-the-public-key-from-an-ecdsa-signature-work">ECDSA signatures communicate their public key</a>.  There are obsolete Schnorr variants that <a class="reference external" href="https://crypto.stackexchange.com/questions/60825/schnorr-pubkey-recovery">support recovering the public key from a signature</a>, but 
they break important functionality like <a class="reference external" href="https://www.deadalnix.me/2017/02/17/schnorr-signatures-for-not-so-dummies/">hierarchical deterministic key derivation</a>.  In consequence, Schnorr signatures often take an extra 32 bytes for the public key.</p>
<p>In exchange, we gain a slightly faster signature scheme with far simpler batch verification than <a class="reference external" href="http://cse.iitkgp.ac.in/~abhij/publications/ECDSA-SP-ACNS2014.pdf">ECDSA batch verification</a> and more natural threshold and multi-signatures, as well as tricks used by payment channels.  I also foresee the presence of this public key data may improve locality in block verification, possibly openning up larger optimisations.</p>
<p>Yet most importantly, we can protect Schnorr signatures using both the derandomization tricks of EdDSA along with a random number generator, which gives us stronger side-channel protections than conventional ECDSA schemes provide.  If we ever do want to support ECDSA as well, then we would first explore improvements in side-channel protections like <a class="reference external" href="https://tools.ietf.org/html/rfc6979">rfc6979</a>, along with concerns like batch verification, etc.</p>


<h2 id="curves">Curves<a class="headerlink" href="#curves" title="Permalink to this headline">¶</a></h2>
<p>There are two normal curve choices for accounts on a blockchain system, either secp256k1 or the Ed25519 curve, so we confine our discussion to them.  If you wanted slightly more speed, you might choose FourQ, but it sounds excessive for blockchains, implementations are rare, and it appears covered by older but not quite expired patents.  Also, you might choose Zcash’s JubJub if you wanted fast signature verification in zkSNARKs, but that’s not on our roadmap for Polkadot, and Jubjub also lacks many implementations.</p>

<h3 id="how-much-secp256k1-support-">How much secp256k1 support?<a class="headerlink" href="#how-much-secp256k1-support-" title="Permalink to this headline">¶</a></h3>
<p>We need some minimal support for secp256k1 keys because token sale accounts are tied to secp256k1 keys on Ethereum, so some “account” type must necessarily use secp256k1 keys.  At the same time, we should not encourage using the same private keys on Ethereum and Polkadot.  We might pressure users into switching key types in numerous ways, like secp256k1 accounts need not support balance increases, or might not support anything but replacing themselves with an ed25519 key.  There are conceivable reasons for fuller secp256k1 support though, like wanting ethereum smart contracts to verify some signatures on Polkadot.  We might support secp256k1 accounts with limited functionality, but consider expanding that functionality if such use cases arise. </p>


<h3 id="is-secp256k1-risky-">Is secp256k1 risky?<a class="headerlink" href="#is-secp256k1-risky-" title="Permalink to this headline">¶</a></h3>
<p>There are two theoretical reasons for preferring an twisted Edwards curve over secp256k1:  First, secp256k1 has a <a class="reference external" href="https://safecurves.cr.yp.to/disc.html">small CM field discriminant</a>, which might yield better attacks in the distant future.  Second, secp256k1 has fairly rigid paramater choices but <a class="reference external" href="https://safecurves.cr.yp.to/rigid.html">not the absolute best</a>.  I do not believe either to be serious cause for concern.  Among more practical curve weaknesses, secp256k1 does have <a class="reference external" href="https://safecurves.cr.yp.to/twist.html">twist security</a> which eliminates many attack classes.  </p>
<p>I foresee only one substancial reason for avoiding secp256k1:  All short Weierstrass curves like secp256k1 have <a class="reference external" href="https://safecurves.cr.yp.to/complete.html">incomplete addition formulas</a>, meaning certain curve points cannot be added to other curve points.  As a result, addition code must check for failures, but these checks make writing constant time code harder.  We could examine any secp256k1 library we use in Polkadot to ensure it both does these checks and has constant-time code.  We cannot however ensure that all implementations used by third party wallet software does so.</p>
<p>I believe incomplete addition formulas looks relatively harmless when used for simple Schnorr signatures, although forgery attacks might exist.  I’d worry more however if we began using secp256k1 for less well explored protocols, like multi-signaturtes and key derivation.   We ware about such use cases however, especially those listed in the <a class="reference external" href="https://github.com/sipa/bips/blob/bip-schnorr/bip-schnorr.mediawiki">Bitcoin Schnoor wishlist</a>.  </p>


<h3 id="is-ed25519-risky---aka-use-ristretto">Is Ed25519 risky?  Aka use Ristretto<a class="headerlink" href="#is-ed25519-risky---aka-use-ristretto" title="Permalink to this headline">¶</a></h3>
<p>Any elliptic curve used in cryptography has order h*l where l is a big prime, normally close to a power of two, and h is some very small number called the cofactor.  Almost all protocol implementations are complicated by these cofactors, so implementing complex protocols is safer on curves with cofactor h=1 like secp256k1.  </p>
<p>The Ed25519 curve has cofactor 8 but a simple convention called “clamping” that makes two particularly common protocols secure.  We must restrict or drop “clamping” for more complex protocols, like multi-signaturtes and key derivation, or anything else in the <a class="reference external" href="https://github.com/sipa/bips/blob/bip-schnorr/bip-schnorr.mediawiki">Bitcoin Schnoor wishlist</a>.  </p>
<p>If we simple dropped “clamping” then we’d make implementing protocols harder, but luckily the <a class="reference external" href="https://ristretto.group">Ristretto</a> encoding for the Ed25519 curve ensures we avoid any curve points with 2-torsion.  I thus recommend:
 - our secret key continue being Ed25519 “expanded” secret keys, while
 - our on-chain encoding, aka “point compression” becomes Ristretto for both public keys and the <code class="docutils literal notranslate"><span class="pre">R</span></code> component of Schnoor signatures. </p>
<p>In principle, we could use the usual Ed25519 “mini” secret keys for simple use cases, but not when doing key derivation.  We could thus easily verify standrad Ed25519 signatures with Ristretto encoded public keys.  We should ideally use Ristretto throughout instead of the standard Ed25519 point compression.  </p>
<p>In fact, we can import standard Ed25519 compressed points like I do <a class="reference external" href="https://github.com/w3f/schnorr-dalek/blob/master/src/ristretto.rs#L877">here</a> but this requires the scalar exponentiation done in the <a class="reference external" href="https://doc.dalek.rs/curve25519_dalek/edwards/struct.EdwardsPoint.html#method.is_torsion_free"><code class="docutils literal notranslate"><span class="pre">is_torsion_free</span></code> method</a>, which runs slower than normal signature verification.  We might ideally do this only for key migration between PoCs.</p>
<p>Ristretto is far simpler than the Ed25519 curve itself, so Ristretto can be added to Ed25519 implementations, but the <a class="reference external" href="https://github.com/dalek-cryptography/curve25519-dalek">curve25519-dalek</a> crate already provides a highly optimised rust implementation.</p>


<h3 id="zero-knowledge-proofs-in-the-dalek-ecosystem">Zero-knowledge proofs in the dalek ecosystem<a class="headerlink" href="#zero-knowledge-proofs-in-the-dalek-ecosystem" title="Permalink to this headline">¶</a></h3>
<p>In fact, the <a class="reference external" href="https://github.com/dalek-cryptography">dalek ecosystem</a> has an remarkably well designed infrastructure for zero-knowledge proofs without pairings.  See:
 https://medium.com/interstellar/bulletproofs-pre-release-fcb1feb36d4b
 https://medium.com/interstellar/programmable-constraint-systems-for-bulletproofs-365b9feb92f7</p>
<p>All these crates use Ristretto points so using Ristretto for account public keys ourselves gives us the most advanced tools for building protocols not based on pairings, meaning that use our account keys.  In principle, these tools might be abstracted for twisted Edwards curves like FourQ and Zcash’s Jubjub, but yu might loose some batching operations in abstracting them for short Weierstrass curves like secp256k1. </p>





          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="1-accounts.html" title="Material"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Account signatures and keys </span>
              </div>
            </a>
          
          
            <a href="2-staking.html" title="Admonition"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Nomination </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
            Created using
            <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
        <div class="md-footer-social">
          <link rel="stylesheet" href="../../_static/fonts/font-awesome.css">
            <a href="https://github.com/w3f/research" class="md-footer-social__link fa fa-github"></a>
            <a href="https://twitter.com/web3foundation" class="md-footer-social__link fa fa-twitter"></a>
            <a href="https://medium.com/web3foundation" class="md-footer-social__link fa fa-medium"></a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>